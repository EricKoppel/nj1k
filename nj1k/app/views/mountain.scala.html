@(mountain: MountainEntity, ascents: List[AscentEntity], nhn: MountainEntity, ascentImages: List[AscentDetailEntity])
@import views.RenderUtil._

@hero = {}
@main()(hero) {
	<script type="text/javascript">
		$(document).ready(function() {
		  $('#climbs').tableNav({
			    itemsPerPage: 10
		  });
		  
		  $('#mountain_pic').click(function() {
			  window.open('@routes.MountainsController.getImagePopup(mountain.id)', '@mountain.name', 'width=1024, height=800px');
			  return false;
		  });
		  
	    	$('.ascent_img').click(function(e) {
				window.open("/ascentDetail/" + this.id + "/mountains", '@mountain.name', 'width=1024, height=800px');
				return false;
			});
		});
	</script>

	<div class="page-header">
		@if(mountain.picture != null) {
	    	<a id="mountain_pic" href="#">
	    		<img style="padding-bottom: 15px; max-height: 128px;" alt="@mountain.name" height="200" width="200" src="@routes.MountainsController.getImage(mountain.id)" />
	    	</a>
	    }
	    <div style="display: inline-block; vertical-align: bottom; padding-left: 5px;">
			<h1>@mountain.name</h1>
		</div>
    </div>
    <div class="row">
    	<div class="col-md-4">
    		<div class="panel panel-default">
	    		<div class="panel-heading">
	    			<h3 class="panel-title">@Messages("about") @mountain.name</h3>
	    		</div>
		    	<div class="panel-body">@Html(mountain.description)</div>
	    	</div>
	    </div>
	    
    	<div class="col-md-4">
    		<div class="panel panel-default">
	    		<div class="panel-heading">
	    			<h3 class="panel-title">@Messages("mountain.stats")</h3>
	    		</div>
	    		<div class="panel-body">
					<table id="mountain_info" class="table">
						<tr>
							<td>@Messages("mountain.elevation")</td>
							<td>@mountain.elevation</td>
						</tr>
						<tr>
							<td>@Messages("mountain.decimal_degrees")</td>
							<td>@mountain.latitude, @mountain.longitude</td>
						</tr>
						<tr>
							<td>@Messages("mountain.county")</td>
							<td>@mountain.county</td>
						</tr>		
						<tr>	
							<td>@Messages("mountain.ownership")</td>
							<td>@mountain.ownership</td>
						</tr>
						<tr>	
							<td>@Messages("mountain.owner")</td>
							<td>@mountain.owner</td>
						</tr>
						<tr>
							<td>@Messages("mountain.topo")</td>
							<td><a href="http://mapper.acme.com/?t=T&amp;z=15&amp;ll=@mountain.latitude,@mountain.longitude" target="_blank">Acme Mapper</a></td>
						</tr>
						<tr>
							<td>@Messages("mountain.nhn")</td>
							<td><a href="@routes.MountainsController.showMountain(nhn.id)">@nhn.name</a></td>
						</tr>
					</table>
				
					<p><a class="btn btn-default" href="@routes.MountainsController.showRadius(mountain.id)">@Messages("radius.search")</a></p>
				</div>
			</div>
		</div>
	
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">@Messages("mountain.others", mountain.name)</h3>
				</div>
				<div class="panel-body">
					@for(a <- ascents) {
						<div class="media">
							<a class="pull-left" href="@routes.UsersController.showUser(a.climber.id)">
								@if(a.climber.pic != null) {
									<img alt="@a.climber.name" width="64" height="64" class="media-object" src="@routes.UsersController.getProfileImage(a.climber.id)">
								} else {
									<img alt="@a.climber.name" src="holder.js/64x64/sky" width="64" height="64" class="media-object">
								}
							</a>
							<div class="media-body">
								<h5 class="media-heading">
									<strong><a href="@routes.UsersController.showUser(a.climber.id)">@a.climber.name</a></strong> - <em><a href="@routes.AscentController.showTripReport(a.id)">@formatAscentDate(a.ascent_date)</a></em>
								</h5>
							</div>
						</div>
					}
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">@Messages("mountain.pictures.from", mountain.name)</h3>
			</div>
			<div class="panel-body">
				@for(detail <- ascentImages) {
					<div class="col-sm-6 col-md-2">
						<div class="thumbnail">
							<a id="@detail.id" class="ascent_img" href="#"><img alt="@detail.caption" src="@routes.AscentDetailController.getImage(detail.id)" /></a>
						</div>
					</div>
				}
			</div>
		</div>
	</div>
}