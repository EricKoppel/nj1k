@(mountain: MountainEntity, ascents: List[AscentEntity], nhn: MountainEntity, ascentImages: List[AscentDetailEntity])
@import views.RenderUtil._

@head = {
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.css">
}

@main(title = mountain.name)(head)(null) {

	<div class="page-header">
	    <div style="display: inline-block; vertical-align: bottom; padding-left: 5px;">
			<h1>@mountain.name</h1>
		</div>
    </div>
    <div class="row">
    
    	@if(!mountain.description.isEmpty()) {
	    	<div class="col-md-4">
	    		<div class="panel panel-default">
		    		<div class="panel-heading">
		    			<h2 class="panel-title">@Messages("about") @mountain.name</h2>
		    		</div>
			    	<div class="panel-body">
			    	@if(mountain.picture != null) {
				    	<a class="thumbnail fancybox" data-fancybox-type="image" title="@mountain.name" href="@routes.MountainsController.getImage(mountain.id)">
				    		<img alt="@mountain.name" src="@routes.MountainsController.getThumbnail(mountain.id)" />
				    	</a>
	    			}
	    			@Html(mountain.description)
			    	</div>
		    	</div>
		    </div>
	    }
	    
    	<div class="col-md-4">
    		<div class="panel panel-default">
	    		<div class="panel-heading">
	    			<h2 class="panel-title">@Messages("mountain.stats")</h2>
	    		</div>
	    		<div class="panel-body">
					<table id="mountain_info" class="table">
						<tr>
							<td>@Messages("mountain.elevation")</td>
							<td>@mountain.elevation</td>
						</tr>
						<tr>
							<td>@Messages("mountain.decimal_degrees")</td>
							<td>@mountain.latitude, @mountain.longitude</td>
						</tr>
						<tr>
							<td>@Messages("mountain.county")</td>
							<td>@mountain.county</td>
						</tr>		
						<tr>	
							<td>@Messages("mountain.ownership")</td>
							<td>@mountain.ownership</td>
						</tr>
						<tr>	
							<td>@Messages("mountain.owner")</td>
							<td>@mountain.owner</td>
						</tr>
						<tr>
							<td>@Messages("mountain.topo")</td>
							<td><a href="http://mapper.acme.com/?t=T&amp;z=15&amp;ll=@mountain.latitude,@mountain.longitude" target="_blank">Acme Mapper</a></td>
						</tr>
						<tr>
							<td>@Messages("mountain.nhn")</td>
							<td><a href="@routes.MountainsController.showMountain(nhn.id)">@nhn.name</a></td>
						</tr>
					</table>
				
					<p>
						<a class="btn btn-default" href="@routes.MountainsController.showRadius(mountain.id)">
							<i class="glyphicon glyphicon-globe"></i>
							<span>@Messages("radius.search")</span>
						</a>
					</p>
				</div>
			</div>
		</div>
	
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h2 class="panel-title">@Messages("mountain.others", mountain.name)</h2>
				</div>
				<div class="panel-body">
					@for(a <- ascents) {
						<div class="media">
							<a class="pull-left" href="@routes.UsersController.showUser(a.climber.id)">
								@if(a.climber.pic != null) {
									<img alt="@a.climber.name" width="64" height="64" class="media-object" src="@routes.UsersController.getProfileImage(a.climber.id)">
								} else {
									<span style="font-size: 64px;" class="glyphicon glyphicon-user"></span>
								}
							</a>
							<div class="media-body">
								<h5 class="media-heading">
									<strong><a href="@routes.UsersController.showUser(a.climber.id)">@a.climber.name</a></strong> - <em><a href="@routes.AscentController.showTripReport(a.id)">@formatAscentDate(a.ascent_date)</a></em>
								</h5>
							</div>
						</div>
					}
				</div>
			</div>
		</div>
	</div>
	@if(!ascentImages.isEmpty()) {
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h2 class="panel-title">@Messages("mountain.pictures.from", mountain.name)</h2>
				</div>
				<div class="panel-body">
					@for(i <- 0 until ascentImages.size) {
					
						@if(i % 4 == 0) {
							<div class="clearfix"></div>
						} 
						@if(i % 2 == 0) {
							<div class="clearfix visible-sm"></div>
						}

						<div class="col-sm-6 col-md-3">
							<div class="thumbnail">
								<a class="fancybox" data-fancybox-group="gallery@mountain.id" title="@ascentImages(i).caption" data-fancybox-type="image" href="@routes.AscentDetailController.getImage(ascentImages(i).id)"><img alt="@ascentImages(i).caption" src="@routes.AscentDetailController.getThumbnail(ascentImages(i).id)" /></a>
								<div class="caption">
									<p>@ascentImages(i).caption &mdash;<a href="@routes.UsersController.showUser(ascentImages(i).ascent.climber.id)"><em>@ascentImages(i).ascent.climber.name</em></a></p>
								</div>
							</div>
						</div>
					}
				</div>
			</div>
		</div>
		}
	</div>
	
	<script type="text/javascript">
		require(['jquery', 'fancybox', 'holder'], function() {
			$(".fancybox").fancybox();
		});
	</script>
}